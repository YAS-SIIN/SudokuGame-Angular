<div class="container mt-2">
  <div class="row">
    <div class="col-3"></div>
    <div class="col-3">
      <label for="difficultySelect" class="form-label"
        >Select Difficulty:</label
      >
      <select
        id="difficultySelect"
        class="form-select"
        [(ngModel)]="selectedDifficulty"
      >
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
        <option value="random">Random</option>
      </select>
    </div>
    <div class="col-3 d-flex align-items-end">
      <button
        type="button"
        class="btn btn-primary"
        (click)="generateSudoku(selectedDifficulty)"
      >
        Generate Sudoku
      </button>
    </div>
  </div>


  <div class="row mt-2">
    <div *ngIf="board && board.length !== 0; else loader" class="col">
      <table>
        <ng-container *ngFor="let row of board; index as rowIndex">
          <tr>
            <ng-container *ngFor="let cell of row;index as cellIndex">
              <td >
                <div *ngIf="cell !== 0" class="grid-item">{{ cell }}</div>
                <div *ngIf="cell === 0">
                  <input
                    type="number"
                    min="1"
                    max="9"
                    [value]="''"
                    class="grid-item form-control grid-item__input"
                    appValidSudokuNumber
                  />
                </div>
              </td>
              <td *ngIf="(cellIndex + 1) %3 == 0" style="width: 1rem;"></td>


            </ng-container>
          </tr>
          <tr *ngIf="(rowIndex + 1) %3 == 0" style="height: 1rem;">
          </tr>
        </ng-container>
      </table>
    </div>

    <!-- Loader -->
    <ng-template #loader>
      <div class="grid-container">
        @for (i of [1,2,3,4,5,6,7,8,9]; track $index) {
        <div class="mt-1">
          <ngx-skeleton-loader
            count="9"
            animation="pulse"
            [theme]="{ 'border-radius': '5px', height: '40px' }"
          />
        </div>
        }
      </div>
    </ng-template>
  </div>


  <!-- Control Buttons -->
  <div class="row mt-1">
    <div class="col text-center">
      <button
        type="button"
        class="btn btn-success me-2"
        (click)="solveSudoku()"
      >
        Solve Sudoku
      </button>
      <button type="button" class="btn btn-info" (click)="validateSudoku()">
        Validate Sudoku
      </button>
    </div>
  </div>
</div>
